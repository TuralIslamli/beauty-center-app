"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{2959:function(e,t,r){var n=r(1398);t.Z={postLogin:e=>n.W.post("login",e),getSelfInfo:()=>n.W.get("users/self-info"),getServiceTypes:e=>{let{page:t,size:r,name:s}=e;return n.W.get("service-types?page=".concat(t,"&size=").concat(r),{params:{name:s}})},getBookingTimes:e=>{let{page:t,size:r}=e;return n.W.get("reservation-times?page=".concat(t,"&size=").concat(r))},createBookingTime:e=>{let{time:t,reservation_count:r}=e;return n.W.post("reservation-times",{time:t,reservation_count:r})},updateBookingTime:e=>{let{id:t,time:r,reservation_count:s}=e;return n.W.put("reservation-times/".concat(t),{time:r,reservation_count:s})},updateExpense:e=>{let{id:t,name:r,description:s,amount:a}=e;return n.W.put("expenses/".concat(t),{name:r,description:s,amount:a})},deleteBookingTime:e=>n.W.delete("reservation-times/".concat(e)),deleteExpense:e=>n.W.delete("expenses/".concat(e)),deleteUser:e=>n.W.delete("users/".concat(e)),createUser:e=>n.W.post("users",e),updateUser:e=>{let{name:t,surname:r,email:s,roleId:a,password:o,password_repeat:i,id:c,customer_visible:l,day_off:d}=e;return n.W.put("users/".concat(c),{name:t,surname:r,email:s,role_id:a,password:o,password_repeat:i,customer_visible:l,day_off:d})},updateServiceType:e=>{let{id:t,name:r,price:s,customer_visible:a}=e;return n.W.put("service-types/".concat(t),{name:r,price:s,customer_visible:a})},createServiceType:e=>{let{name:t,price:r,customer_visible:s}=e;return n.W.post("service-types",{name:t,price:r,customer_visible:s})},createExpense:e=>{let{name:t,description:r,amount:s}=e;return n.W.post("expenses",{name:t,description:r,amount:s})},deleteServiceType:e=>n.W.delete("service-types/".concat(e)),getUsers:e=>{let{page:t,size:r}=e;return n.W.get("users?page=".concat(t,"&size=").concat(r))},getBookings:e=>{let{page:t,size:r,status:s,from_date:a,to_date:o,client_name:i,client_phone:c,service_types:l,doctor_id:d}=e;return n.W.get("reservations?&sort=asc&sorted_column=date_time",{params:{status:s,from_date:a,to_date:o,client_name:i,client_phone:c,service_types:l,doctor_id:d}})},getServices:e=>{let{page:t,size:r,status:s,from_date:a,to_date:o,client_name:i,client_phone:c,service_types:l,user_id:d}=e;return n.W.get("services?page=".concat(t,"&size=").concat(r,"&sort=desc"),{params:{status:s,from_date:a,to_date:o,client_name:i,client_phone:c,service_types:l,user_id:d}})},getExpenses:e=>{let{page:t,size:r,from_date:s,to_date:a}=e;return n.W.get("expenses?page=".concat(t,"&size=").concat(r,"&sort=desc"),{params:{from_date:s,to_date:a}})},getExpensesTotal:e=>{let{from_date:t,to_date:r}=e;return n.W.get("expenses/total-amount",{params:{from_date:t,to_date:r}})},getReports:e=>{let{page:t,size:r,from_date:s,to_date:a,client_name:o,client_phone:i,user_id:c}=e;return n.W.get("reports?sort=desc",{params:{from_date:s,to_date:a,client_name:o,client_phone:i,user_id:c}})},getAdvances:e=>{let{page:t,size:r,from_date:s,to_date:a}=e;return n.W.get("advance-transfer?page=".concat(t,"&size=").concat(r,"&sort=desc"),{params:{from_date:s,to_date:a}})},getLogs:e=>{let{from_date:t,to_date:r,page:s}=e;return n.W.get("logs?page=".concat(s,"&size=",10),{params:{from_date:t,to_date:r}})},deleteService:e=>n.W.delete("services/".concat(e)),advanceTransfer:()=>n.W.post("reservations/advance/next-day-transfer"),advanceCancel:e=>n.W.post("reservations/advance/next-day-transfer/cancel",{date:e}),deleteBooking:e=>n.W.delete("reservations/".concat(e)),getBookingDoctors:e=>n.W.get("reservations/users/input-search?date_time=".concat(e)),getAdvanceInfo:e=>n.W.get("services/advance/info?date=".concat(e)),getTotalAmount:e=>{let{status:t,from_date:r,to_date:s,client_name:a,client_phone:o,service_types:i,user_id:c}=e;return n.W.get("services/total-amounts",{params:{status:t,from_date:r,to_date:s,client_name:a,client_phone:o,service_types:i,user_id:c}})},getDoctors:()=>n.W.get("users/input-search"),getDoctorById:e=>n.W.get("users/".concat(e)),getHours:e=>n.W.get("reservation-times/input-search?date=".concat(e)),getInputServices:()=>n.W.get("service-types/input-search"),createService:e=>n.W.post("services",e),createBooking:e=>n.W.post("reservations",e),updateService:e=>n.W.put("services/".concat(e.id),e),updateBooking:e=>n.W.put("reservations/".concat(e.id),e),getDailyReportExcel:async e=>{try{await n.W.get("services/daily-report?excel_export=true&sorted_day=".concat(e),{responseType:"blob"}).then(t=>{{let r=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.setAttribute("download","daily_report_".concat(e,".xlsx")),document.body.appendChild(s),s.click(),document.body.removeChild(s)}})}catch(e){console.error("Error downloading the file",e)}},getAllReportsExcel:async e=>{let{status:t,from_date:r,to_date:s,client_name:a,client_phone:o,service_types:i,user_id:c}=e;try{await n.W.get("services/all-reports?excel_export=true&sort=desc",{responseType:"blob",params:{status:t,from_date:r,to_date:s,client_name:a,client_phone:o,service_types:i,user_id:c}}).then(e=>{let t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.setAttribute("download","general_report_".concat(r,"/").concat(s,".xlsx")),document.body.appendChild(a),a.click(),document.body.removeChild(a)})}catch(e){console.error("Error downloading the file",e)}},getBonuses:e=>{let{from_date:t,to_date:r,user_id:s}=e;return n.W.get("services/bonus-reports",{params:{from_date:t,to_date:r,user_id:s}})},patchBonusCoefficient:e=>n.W.patch("settings/bonus-coefficient",{coefficient:e}),getBonusesCoefficient:()=>n.W.get("settings/bonus-coefficient"),getTimeZone:()=>n.W.get("settings/timezone-date"),getBonusesExcel:async e=>{let{from_date:t,to_date:r,user_id:s}=e;try{await n.W.get("services/bonus-reports?excel_export=true",{responseType:"blob",params:{from_date:t,to_date:r,user_id:s}}).then(e=>{let n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=window.URL.createObjectURL(n),a=document.createElement("a");a.href=s,a.setAttribute("download","bonus_report_".concat(t,"/").concat(r,".xlsx")),document.body.appendChild(a),a.click(),document.body.removeChild(a)})}catch(e){console.error("Error downloading the file",e)}}}},1780:function(e,t,r){r.d(t,{Yr:function(){return a},au:function(){return s},en:function(){return o},uJ:function(){return n}});let n=[{id:2,name:"Admin"},{id:3,name:"Cashier"},{id:4,name:"Doctor"},{id:5,name:"Reserver"}],s=[{id:0,name:"New"},{id:1,name:"Accepted"},{id:2,name:"Rejected"}],a=[{id:0,name:"Ləğv"},{id:1,name:"Gəldi"},{id:2,name:"G\xf6zlənilir"},{id:3,name:"Qəbul edildi"},{id:4,name:"Online"}],o=[{id:1,name:"Bazar ertəsi"},{id:2,name:"İkinci g\xfcn"},{id:3,name:"\xc7ərşənbə"},{id:4,name:"C\xfcmə axşamı"},{id:5,name:"C\xfcmə"},{id:6,name:"Şənbə"},{id:7,name:"Bazar"}]},323:function(e,t,r){r.d(t,{QH:function(){return c},Wi:function(){return s},xD:function(){return o}});var n=r(7437);r(2265);var s=e=>{let{label:t,htmlFor:r,error:s,children:a,inline:o=!1}=e;return o?(0,n.jsxs)("div",{className:"form-field-inline",children:[a,(0,n.jsx)("label",{htmlFor:r,children:t})]}):(0,n.jsxs)("div",{className:"form-field",children:[(0,n.jsx)("label",{htmlFor:r,children:t}),a,s&&(0,n.jsx)("div",{className:"form-error",children:s})]})},a=r(8708),o=e=>{let{showFilter:t=!1,onFilterToggle:r,onRefresh:s,leftContent:o,rightContent:i}=e;return(0,n.jsxs)("div",{className:"table-header",children:[(0,n.jsxs)("div",{className:"table-header-actions",children:[r&&(0,n.jsx)(a.z,{type:"button",icon:"pi pi-filter-slash",label:"Filter",onClick:r}),s&&(0,n.jsx)(a.z,{icon:"pi pi-refresh",rounded:!0,raised:!0,onClick:s}),o]}),(0,n.jsx)("div",{className:"table-header-actions",children:i})]})},i=r(5472),c=e=>{let{visible:t,onHide:r,onConfirm:s,header:o,message:c,confirmLabel:l="Bəli",cancelLabel:d="Xeyr",confirmSeverity:u="danger"}=e,p=(0,n.jsxs)("div",{className:"dialog-footer",children:[(0,n.jsx)(a.z,{label:d,icon:"pi pi-times",outlined:!0,onClick:r}),(0,n.jsx)(a.z,{label:l,icon:"pi pi-check",severity:u,onClick:s})]});return(0,n.jsx)(i.V,{visible:t,style:{width:"32rem"},breakpoints:{"960px":"75vw","641px":"90vw"},header:o,modal:!0,footer:p,onHide:r,children:(0,n.jsxs)("div",{className:"confirmation-content",children:[(0,n.jsx)("i",{className:"pi pi-exclamation-triangle confirmation-icon"}),(0,n.jsx)("span",{children:c})]})})};r(7126)},7126:function(e,t,r){r.d(t,{Bv:function(){return c},CN:function(){return i},KC:function(){return u},O2:function(){return s},T4:function(){return o},Ur:function(){return p},Yu:function(){return d},p6:function(){return a},zk:function(){return l}});var n=r(1780);let s=e=>{var t;return null===(t=n.uJ.find(t=>t.id===e))||void 0===t?void 0:t.name},a=e=>{if(!e)return"";let t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(n)},o=e=>{var t,r;let n="string"==typeof e?parseFloat(e):e,s=new Intl.NumberFormat("az-AZ",{style:"currency",currency:"AZN"}).formatToParts(n),a=null!==(r=null===(t=s.find(e=>"currency"===e.type))||void 0===t?void 0:t.value)&&void 0!==r?r:"AZN",o=s.filter(e=>"currency"!==e.type).map(e=>e.value).join("");return"".concat(o," ").concat(a)},i=e=>e?e.startsWith("+")?e:"+".concat(e):"",c=e=>["service.filter.status","service.filter.date","service.filter.client_name","service.filter.client_phone","service.filter.service_type","service.filter.doctor","reservation.filter.status","reservation.filter.date","reservation.filter.client_name","reservation.filter.client_phone","reservation.filter.service_type","reservation.filter.doctor"].some(t=>e.includes(t)),l=e=>{let t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},d=e=>l(new Date(e)),u=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),p=e=>{let t=new Date;return t.setDate(t.getDate()-e),t}},1398:function(e,t,r){r.d(t,{W:function(){return c},x:function(){return o}});var n=r(2126),s=r(6463);let a=null,o=e=>{a=e};console.log(a,"toast");let i=n.Z.create({baseURL:"https://dev-api.nargizestetik.az/api"});i.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e}),i.interceptors.response.use(e=>null==e?void 0:e.data,async e=>{var t,r,n,o,i;if(console.log(null==e?void 0:e.message,"error"),e.response&&(null===(t=e.response)||void 0===t?void 0:t.data.message)==="USER_NOT_AUTHORIZED")localStorage.clear(),(0,s.redirect)("/login");else if((e.response&&(null===(r=e.response)||void 0===r?void 0:r.data.message)||e.message)&&a){let t=(null===(n=e.response)||void 0===n?void 0:n.data.message)||e.message;if(null===(i=e.response)||void 0===i?void 0:null===(o=i.data)||void 0===o?void 0:o.errors){let r=e.response.data.errors,n=Object.keys(r).map(e=>r[e][0]);n.length>0&&(t=n.join("\n"))}a.show({severity:"error",summary:"Error",detail:t,life:3e3})}return e&&e.response?Promise.reject(e):Promise.reject()});let c=i}}]);